###
## crear nuevo usuario edgar ok
POST http://localhost:8090/auth/nuevo HTTP/1.1
Content-Type: application/json

{
    "nickname": "christianciscarr",
    "nombre": "christianciscarr",
    "email": "christianciscarr@hotmail.com",
    "password": "Telocuento1@",
    "telefono": "123456789",
    "fecha_nacimiento": "2023-12-12"
}

###
## crear nuevo usuario ADMINISTRADOR ok
POST http://localhost:8090/auth/nuevo HTTP/1.1
Content-Type: application/json

{
    "nickname": "Administrador",
    "nombre": "Administrador",
    "email": "administrador@gmail.com",
    "password": "Administrador@2",
    "telefono": "123456789",
    "fecha_nacimiento": "1234-12-12"
}


###
## login error datos incorrectos
POST http://localhost:8090/auth/login HTTP/1.1
Content-Type: application/json

{
    "email": "edgar.t@gmail",
    "password": "TeLoDigo@2"
}

###
## login OK
POST http://localhost:8090/auth/login HTTP/1.1
Content-Type: application/json

{
    "email": "christianciscarr@hotmail.com",
    "password": "Telocuento1@"
}

###
## login OK ADMINISTRADOR
POST http://localhost:8090/auth/login HTTP/1.1
Content-Type: application/json

{
    "email": "administrador@gmail.com",
    "password": "Administrador@2"
}

###
## getAll usuarios con JWT
GET http://localhost:8090/api/usuarios HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU




###
## getAllUsuarios con ordenación sin filtros
GET http://localhost:8090/api/v1/usuarios?sort=fechaCreacion,asc&sort=nombre,asc&page=0&size=10 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU

###
## getAllUsuarios con ordenación sin filtros
GET http://localhost:8090/api/v1/usuarios?sort=fechaCreacion,desc&sort=nombre,asc&page=0&size=1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU







###
## getAllusuarios con CONTIENE
GET http://localhost:8090/api/v1/usuarios?filter=nombre:CONTIENE:ormo&sort=id&page=0&size=10 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU



###
## getAllUsuarios con CONTIENE (Usuarios cuyo nombre contenga un valor)
GET http://localhost:8090/api/v1/usuarios?filter=nombre:CONTIENE:Edgar&sort=nombre&page=0&size=10 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU

###
GET http://localhost:8080/usuarios?sort=nombre,asc&page=0&size=10 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU


###
## getAllUsuarios FILTRO POST val
POST http://localhost:8090/api/v1/usuarios HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU

{
    "listaFiltros": [
        {
            "atributo": "nombre",
            "operacion": "CONTIENE",
            "valor": "Tormo"
        }
    ],
    "page": 0,
    "size": 10,
    "sort": [
    ]
}

###
## getAllUsuarios FILTRO POST sin ordenación ni filtro
POST http://localhost:8090/api/v1/usuarios HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU

{
    "page": 0,
    "size": 10
}




###
##  create
POST  http://localhost:8090/api/v1/usuarios HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU

{
  "id": 4,
  "nombre": "Juan Pérez",
  "nickname": "juanperez",
  "email": "juan.perez@example.com",
  "telefono": "555123456",
  "fechaNacimiento": "1990-01-01",
  "estado": "activo"
}
###
##  create errorCode: USER_ALREADY_EXIST
POST  http://localhost:8090/api/v1/usuarios HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU

{
  "id": 2,
  "nombre": "Juan Pérez",
  "nickname": "juanperez",
  "email": "juan.perez@example.com",
  "telefono": "555123456",
  "fechaNacimiento": "1990-01-01",
  "estado": "activo",
  "roles": [
    {
      "nombre": "ADMINISTRADOR"
    }
  ],
  "permisosIds": [1, 2, 3]
}
###
##  create errorCode: USER_CREATE_VALIDATION
POST  http://localhost:8090/api/v1/usuarios HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU

{
  "nombre": "Juan Pérez",
  "nickname": "juanperez",
  "email": "juan.perez@example.com",
  "telefono": "555123456",
  "fechaNacimiento": "1990-01-01",
  "estado": "activo",
  "roles": [
    {
      "nombre": "ADMINISTRADOR"
    }
  ],
  "permisosIds": [1, 2, 3]
}












###
##  read
GET http://localhost:8090/api/v1/usuarios/3 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU
###
##  "errorCode": "ID_FORMAT_INVALID"
GET http://localhost:8090/api/v1/usuarios/a HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU
###
##  "errorCode": "USER_NOT_FOUND"
GET http://localhost:8090/api/v1/usuarios/5000 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU







###
##  update
PUT  http://localhost:8090/api/v1/usuarios/3 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU
Content-Type: application/json

{
    "id": 3,
    "nombre": "Pepito Flautass",
    "nickname": "PeterTheBest",
    "email": "pepito@gmail.com",
    "telefono": "123456789",
    "fechaNacimiento": "2025-02-06",
    "estado": "pendiente"
}
/*
    "roles": [
        {
            "id": 1,
            "nombre": "ADMINISTRADOR"
        }
    ]*/


###
##  update - errorCode: USER_NOT_FOUND_FOR_UPDATE
PUT  http://localhost:8090/api/v1/usuarios/1000 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU
Content-Type: application/json

{
    "id": 1000,
    "nombre": "Pepito Flautas",
    "nickname": "PeterTheBest",
    "email": "pepito@gmail.com",
    "telefono": "123456789",
    "fechaNacimiento": "2025-02-06",
    "estado": "pendiente",
    "roles": [
        {
        "nombre": "USUARIO"
        }
    ],
    "permisosIds": null
}
###
##  update - errorCode: USER_UPDATE_VALIDATION
PUT  http://localhost:8090/api/v1/usuarios/3 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU
Content-Type: application/json

{
    "nombre": "Pepito Flautas",
    "nickname": "PeterTheBest",
    "email": "pepito@gmail.com",
    "telefono": "123456789",
    "fechaNacimiento": "2025-02-06",
    "estado": "pendiente",
    "roles": [
        {
        "nombre": "USUARIO"
        }
    ],
    "permisosIds": null
}

###
##  update - errorCode: USER_ID_MISMATCH
PUT  http://localhost:8090/api/v1/usuarios/3 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU
Content-Type: application/json

{
    "id": 1,
    "nombre": "Pepito Flautas",
    "nickname": "PeterTheBest",
    "email": "pepito@gmail.com",
    "telefono": "123456789",
    "fechaNacimiento": "2025-02-06",
    "estado": "pendiente",
    "roles": [
        {
        "nombre": "USUARIO"
        }
    ],
    "permisosIds": null
}







###
## delete
DELETE  http://localhost:8090/api/v1/usuarios/1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU
















###
## Obtener todos los roles
GET http://localhost:8090/api/v1/roles HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU
###
## Obtener usuarios por rol 
GET http://localhost:8090/api/v1/roles/ADMINISTRADOR/usuarios HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbmlzdHJhZG9yQGdtYWlsLmNvbSIsImlhdCI6MTczOTE4NTAzMywiZXhwIjoxNzM5MjIxMDMzfQ.G0MJSsn0sjBotTet64oCFjsv2fLtUalVluSLjPETOuU
###
GET http://localhost:8090/api/v1/usuarios
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjaHJpc3RpYW5jaXNjYXJAaG90bWFpbC5jb20iLCJpYXQiOjE3Mzg5NTI3NzUsImV4cCI6MTczODk4ODc3NX0.-HeIxUL_-kMe0uK8P2tCt4cW4aUr7b47nUOwtemqRhI
###
POST http://localhost:8090/auth/logout
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjaHJpc3RpYW5jaXNjYXJyQGhvdG1haWwuY29tIiwiaWF0IjoxNzM5MjA4NTcyLCJleHAiOjE3MzkyNDQ1NzJ9.zQnLWiOCj13K8AQMZQXRhPaacV-po_3I49DfXeBNwvE
### 2️⃣ Usar Access Token para obtener datos protegidos
GET http://localhost:8090/api/v1/usuarios HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjaHJpc3RpYW5jaXNjYXJyQGhvdG1haWwuY29tIiwiaWF0IjoxNzM5MjEwNTU1LCJleHAiOjE3MzkyNDY1NTV9.i2kecXzGp3cEaBW64BEvDT3eaYIumuDiJShuvVOD9Wo